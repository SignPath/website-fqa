<!-- last_modified_at:  --><!DOCTYPE html>
<html lang="en" data-appurl='https://fqa.test.signpath.io'>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="canonical" href='https://signpath.github.io/website-staging//documentation/crypto-providers/gpg' />
  <!-- Begin Jekyll SEO tag v2.6.1 -->
  <link rel='preload' as='style' href='/assets/css/line-awesome.min.css' onload="this.rel='stylesheet'">
  <title>GPG | SignPath</title>
  <meta property="og:title" content="GPG | SignPath" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:description" content="Creating GPG signatures with SignPath" />
  <meta property="og:url" content="https://signpath.github.io/website-staging//documentation/crypto-providers/gpg" />
  <meta property="og:site_name" content="SignPath.io" />
  <meta name="description" content="Creating GPG signatures with SignPath"/>
  <!-- End Jekyll SEO tag -->
  <link rel='stylesheet' href='/assets/css/hint.min.css'>
  <link rel="stylesheet" href="/assets/css/index.css?cache=2025-05-15">
  <link rel="alternate" type="application/atom+xml" title="SignPath.io Blog" href="/feed.xml">
  <script src='/assets/index.js?cache=2024-12-18'></script>
  <script src='/assets/js/main-bundle.js?cache=2025-03-06'></script><link rel="icon" href="/assets/favicon-50x50.png" sizes="32x32">
  <link rel="icon" href="/assets/favicon.png" sizes="192x192">
  <link rel="apple-touch-icon-precomposed" href="/assets/favicon.png">
  <meta name="msapplication-TileImage" content="/assets/favicon.png">
</head>
<body>
  <header>
    <div>
      <a href='/'><img src='/assets/signpath-logo-white.svg' width="181" height="36" alt='SignPath'></a>
      <nav>
        <ul><li>
              <a href='/product'> Product</a>
              <ul><li> <a href='/product/features'> Features </a> </li><li> <a href='/product/editions'> Editions </a> </li><li class='separator' /><li> <a href='/product/devops'> For DevOps teams </a> </li><li> <a href='/product/infosec'> For InfoSec teams </a> </li><li> <a href='/product/open-source'> For Open Source projects </a> </li><li class='separator' /><li> <a href='/product/office-macros'> Office macro signing </a> </li><li> <a href='/product/thales-dpod'> Thales DPoD Cloud HSM </a> </li><li> <a href='/product/pkic-best-practices'> PKI Consortium best practices </a> </li></ul>
            </li><li>
              <a href='/code-signing'> Code Signing</a>
              <ul><li> <a href='/code-signing/introduction'> Introduction </a> </li><li> <a href='/code-signing/theory'> Theory </a> </li><li> <a href='/code-signing/windows-platform'> Windows Platform </a> </li><li> <a href='/code-signing/test-certificates'> Managing Test Certificates </a> </li><li> <a href='/code-signing/private-keys'> Storage of Private Keys </a> </li><li> <a href='/code-signing/media-coverage'> Media Coverage </a> </li></ul>
            </li><li>
              <a href='/documentation'> Documentation</a>
              <ul><li> <a href='/documentation/getting-started'> Getting Started </a> </li><li> <a href='/documentation/managing-certificates'> Managing Certificates </a> </li><li> <a href='/documentation/users'> Managing Users </a> </li><li> <a href='/documentation/projects'> Setting up Projects </a> </li><li> <a href='/documentation/signing-code'> Signing Code </a> </li><li> <a href='/documentation/signing-containers'> Signing Container Images </a> </li><li class='separator' /><li> <a href='/documentation/artifact-configuration'> Artifact Configuration </a> </li><li> <a href='/documentation/build-system-integration'> Build System Integration </a> </li><li> <a href='/documentation/trusted-build-systems'> Trusted Build Systems </a> </li><li> <a href='/documentation/origin-verification'> Origin Verification </a> </li><li class='separator' /><li> <a href='/documentation/powershell'> PowerShell cmdlets </a> </li><li> <a href='/documentation/crypto-providers'> Crypto Providers </a> </li><li class='separator' /><li> <a href='/documentation/changelog'> Product updates </a> </li></ul>
            </li><li>
              <a href='/about-us'> About us</a>
              <ul><li> <a href='/company'> Company </a> </li><li> <a href='/team'> Team </a> </li><li> <a href='/blog'> Blog </a> </li><li> <a href='/jobs'> Jobs </a> </li><li> <a href='/support'> Support </a> </li><li> <a href='/contact'> Contact </a> </li></ul>
            </li><li class='search'>
            <div>
              <div>
                <form method="get" target="_self" action="/search">
                  <input type='search' name='q' placeholder="Search SignPath.io" />
                </form>
              </div>
            </div>
            <span tabindex='0'>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M 19 3 C 13.488281 3 9 7.488281 9 13 C 9 15.394531 9.839844 17.589844 11.25 19.3125 L 3.28125 27.28125 L 4.71875 28.71875 L 12.6875 20.75 C 14.410156 22.160156 16.605469 23 19 23 C 24.511719 23 29 18.511719 29 13 C 29 7.488281 24.511719 3 19 3 Z M 19 5 C 23.429688 5 27 8.570313 27 13 C 27 17.429688 23.429688 21 19 21 C 14.570313 21 11 17.429688 11 13 C 11 8.570313 14.570313 5 19 5 Z"/></svg>
            </span>
          </li>
          <li class='login'><a class='btn btn-flat' href='https://fqa.test.signpath.io/Web/Home/Login'>Login</a>
          <li class='login'><a href='https://fqa.test.signpath.io/Web/Subscription/StartFreeTrial' class='btn btn-primary trial'>Start free trial</a></li>
          </li>
        </ul>
        <a id='main-menu-toggle' href='#' onclick='document.querySelector("header > div > nav > ul").classList.toggle("open")'>
          <div></div>
          <div></div>
          <div></div>
        </a>
      </nav>
    </div>
  </header>
  <main>
<section class="bg-blue font-white top-section resources-header">
	<div>
		<h1><span class='no-break'><a href='/documentation'>Documentation</a>&nbsp;&nbsp;❯&nbsp;&nbsp;</span><span class='no-break'><a href='/documentation/crypto-providers'>Crypto Providers</a>
		  	  		  &nbsp;&nbsp;❯&nbsp;&nbsp;</span><span class='no-break'>
		  	  	         GPG
		  	  	       </span></h1>
	</div>
</section><section class="resources-section ">
	<div><nav class=''><ul class=''><li class=' '>
							<a href='/documentation/getting-started#'>Getting Started</a></li><li class=' '>
							<a href='/documentation/managing-certificates#'>Managing Certificates</a></li><li class=' '>
							<a href='/documentation/users#'>Managing Users</a></li><li class=' '>
							<a href='/documentation/projects#'>Setting up Projects</a></li><li class=' '>
							<a href='/documentation/signing-code#'>Signing Code</a></li><li class=' '>
							<a href='/documentation/signing-containers#'>Signing Container Images</a></li><li class='separator' /><li class=' '>
							<a href='/documentation/artifact-configuration#'>Artifact Configuration</a></li><li class=' '>
							<a href='/documentation/build-system-integration#'>Build System Integration</a></li><li class=' '>
							<a href='/documentation/trusted-build-systems#'>Trusted Build Systems</a></li><li class=' '>
							<a href='/documentation/origin-verification#'>Origin Verification</a></li><li class='separator' /><li class=' '>
							<a href='/documentation/powershell#'>PowerShell cmdlets</a></li><li class=' current-group'>
							<a href='/documentation/crypto-providers#'>Crypto Providers</a><ul><li class=''>
										<a href='/documentation/crypto-providers/windows'>Windows CSP and KSP</a>
									</li><li class=''>
										<a href='/documentation/crypto-providers/cryptoki'>Cryptoki/PKCS#11</a>
									</li><li class='active'>
										<a href='/documentation/crypto-providers/gpg'>GPG</a>
									</li><li class=''>
										<a href='/documentation/crypto-providers/macos'>macOS CryptoTokenKit</a>
									</li><li class=''>
										<a href='/documentation/crypto-providers/rest-api'>REST API</a>
									</li></ul></li><li class='separator' /><li class=' '>
							<a href='/documentation/changelog#'>Product updates</a></li></ul>
			</nav><div class='content'><ul class="article-toc">
  <li><a href="#overview">Overview</a>
    <ul>
      <li><a href="#using-gnupg-with-pkcs-11">Using GnuPG with PKCS #11</a></li>
    </ul>
  </li>
  <li><a href="#prepare-signing">Setup</a>
    <ul>
      <li><a href="#signpath-configuration">SignPath configuration</a></li>
      <li><a href="#configure-gnupg">Configure GPG for signing</a></li>
    </ul>
  </li>
  <li><a href="#signing-code-with-gpg">Signing code with GPG</a>
    <ul>
      <li><a href="#gpg-error-logs">Error logs</a></li>
    </ul>
  </li>
</ul>
<article>
					<h2 id="overview">Overview</h2>

<p><a href="https://gnupg.org/">GNU Privacy Guard</a>, also known as GPG or GnuPG, is an Open Source implementation of the OpenPGP standard. This section provides information about using GPG with SignPath, as well as some code signing tools that build on GPG.</p>

<h3 id="using-gnupg-with-pkcs-11">Using GnuPG with PKCS #11</h3>

<p>GnuPG does not directly support the PKCS #11/Cryptoki interface. The <a href="https://github.com/alonbl/gnupg-pkcs11-scd/">gnupg-pkcs11-scd</a> project adds this capability as a daemon for the GnuPG <a href="https://wiki.gnupg.org/SmartCard">“Smartcard”</a> interface.</p>

<p><img src="/assets/img/resources/documentation/crypto-providers/gpg-signing-flow.svg" alt="Figure: GPG signing flow" /></p>

<p>Configuration options for the <a href="/documentation/crypto-providers/cryptoki">SignPath PKCS #11/Cryptoki provider</a> apply.</p>

<h2 id="prepare-signing">Setup</h2>

<h3 id="signpath-configuration">SignPath configuration</h3>

<ol>
  <li>Create a <a href="/documentation/managing-certificates">GPG key</a></li>
  <li>Create a <a href="/documentation/crypto-providers/#signpath-project-configuration">hash signing project and signing policy</a> in SignPath</li>
</ol>

<h3 id="configure-gnupg">Configure GPG for signing</h3>

<p>Initialize GPG hash signing using the helper functions of <code class="language-plaintext highlighter-rouge">Samples/Scenarios/SignPathCryptoProviderHelpers.sh</code> of the <a href="/documentation/crypto-providers#linux-docker-samples">Linux samples</a>:</p>

<ol>
  <li>Call the <code class="language-plaintext highlighter-rouge">InitializeSignPathCryptoProviderGpgSigning</code> function to configure GPG and fetch the private key references
    <ul>
      <li>Configures the <a href="/documentation/crypto-providers#crypto-provider-configuration">SignPath Crypto Provider</a></li>
      <li>Configures <code class="language-plaintext highlighter-rouge">gnupg-pkcs11-scd</code> via <code class="language-plaintext highlighter-rouge">gnupg-pkcs11-scd.conf</code></li>
      <li>Configures GnuPG (<code class="language-plaintext highlighter-rouge">gpg-agent</code>) to use <code class="language-plaintext highlighter-rouge">gnupg-pkcs11-scd</code></li>
    </ul>
  </li>
  <li>Import a specific key into the GPG key chain via the <code class="language-plaintext highlighter-rouge">ImportSignPathGpgPublicKey</code> function (returns the GPG key ID for subsequent use in signing commands)</li>
</ol>

<h2 id="signing-code-with-gpg">Signing code with GPG</h2>

<p>The <a href="/documentation/crypto-providers#linux-docker-samples">Linux samples</a> contain complete example scripts (including all preparation steps) to sign and verify files using the following formats and tools:</p>

<table>
  <thead>
    <tr>
      <th>Format</th>
      <th>Signing invocation</th>
      <th>Sample script</th>
      <th>Note</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>GPG detached signature</td>
      <td><code class="language-plaintext highlighter-rouge">gpg --sign</code></td>
      <td><code class="language-plaintext highlighter-rouge">Scenarios/Gpg/GpgSignFile.sh</code></td>
      <td> </td>
    </tr>
    <tr>
      <td>RPM (RedHat package)</td>
      <td><code class="language-plaintext highlighter-rouge">rpmsign --resign</code></td>
      <td><code class="language-plaintext highlighter-rouge">Scenarios/RpmPackages/SignRpm.sh</code></td>
      <td> </td>
    </tr>
    <tr>
      <td>DEB (Debian package)</td>
      <td><a href="https://manpages.debian.org/bullseye/dpkg-sig/dpkg-sig.1.en.html"><code class="language-plaintext highlighter-rouge">dpkg-sig</code></a><code class="language-plaintext highlighter-rouge"> --sign</code></td>
      <td><code class="language-plaintext highlighter-rouge">Scenarios/DebPackages/SignDeb.sh</code></td>
      <td>“builder” is used as <em>sign role</em></td>
    </tr>
    <tr>
      <td>Maven artifact</td>
      <td><code class="language-plaintext highlighter-rouge">mvn install</code></td>
      <td><code class="language-plaintext highlighter-rouge">Scenarios/Maven/SignMaven.sh</code></td>
      <td>Requires the <a href="https://maven.apache.org/plugins/maven-gpg-plugin/">Maven GPG plugin</a></td>
    </tr>
  </tbody>
</table>

<p>While executing each signing tool, SignPath is called to perform a hash-based signing operation. Note that <em>OrganizationId</em> and <em>ApiToken</em> must be passed to the SignPath Crypto Provider to authenticate the request.</p>

<h3 id="gpg-error-logs">Error logs</h3>

<p>For <code class="language-plaintext highlighter-rouge">gnupg-pkcs11-scd</code>, <code class="language-plaintext highlighter-rouge">stdout</code> console output must be disabled. Use the log files for troubleshooting.</p>

<p>For the <a href="/documentation/crypto-providers#linux-docker-samples">Linux samples</a>, the following log file locations are configured:</p>

<ul>
  <li>SignPath Cryptoki logs: <code class="language-plaintext highlighter-rouge">Samples/Scenarios/Work/Logs/SignPathLogs/*.log</code></li>
  <li><code class="language-plaintext highlighter-rouge">gnupg-pkcs11-scd</code> logs: <code class="language-plaintext highlighter-rouge">Samples/Scenarios/Work/Logs/gnupg-pkcs11-scd.log</code></li>
  <li>GPG logs: <code class="language-plaintext highlighter-rouge">Samples/Scenarios/Work/Logs/gpg-agent.log</code></li>
</ul>


				</article>
			</div>
	</div>
</section><!-- last_modified_at:  --><section class='bg-dark-grey font-white newsletter' id="newsletter">
	<div>
		<h2>Sign up for news and special offers</h2>
		<form class="ml-block-form" action="https://app.mailerlite.com/webforms/submit/d7c3i1" data-code="d7c3i1" method="post">
			<input type="text" class="form-control" data-inputmask="" name="fields[name]" value="" placeholder="Name">
			<input type="email" class="form-control" data-inputmask="" name="fields[email]" value="" placeholder="Email">
			<input type="hidden" name="ml-submit" value="1">
			<button type="submit" class="btn btn-flat newsletter">Subscribe</button>
		</form>
	</div>
</section>
</main>
  <footer>
  	<div>
	  	<div>
	  		<img src='/assets/signpath-logo-white.svg' width="334" height="67" alt='SignPath'/>
	  		<svg viewBox="0 0 244 18">
			  <text x="0" y="15" textLength="244" lengthAdjust="spacingAndGlyphs">CODE SIGNING SIMPLE &amp; SECURE</text>
			</svg>
	  		<div>
				<a target="_blank" href="https://www.linkedin.com/company/33243108" rel="noopener noreferrer">
<svg class="icon footer" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path fill="currentColor"  d="M 8.6425781 4 C 7.1835781 4 6 5.181625 6 6.640625 C 6 8.099625 7.182625 9.3085938 8.640625 9.3085938 C 10.098625 9.3085938 11.283203 8.099625 11.283203 6.640625 C 11.283203 5.182625 10.101578 4 8.6425781 4 z M 21.535156 11 C 19.316156 11 18.0465 12.160453 17.4375 13.314453 L 17.373047 13.314453 L 17.373047 11.310547 L 13 11.310547 L 13 26 L 17.556641 26 L 17.556641 18.728516 C 17.556641 16.812516 17.701266 14.960938 20.072266 14.960938 C 22.409266 14.960937 22.443359 17.145609 22.443359 18.849609 L 22.443359 26 L 26.994141 26 L 27 26 L 27 17.931641 C 27 13.983641 26.151156 11 21.535156 11 z M 6.3632812 11.310547 L 6.3632812 26 L 10.923828 26 L 10.923828 11.310547 L 6.3632812 11.310547 z"/></svg></a>
				&nbsp;&nbsp;
				<a target="_blank" href="mailto:info@signpath.io" rel="noopener noreferrer"><svg class="icon footer" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path fill="currentColor" d="M 3 8 L 3 26 L 29 26 L 29 8 Z M 7.3125 10 L 24.6875 10 L 16 15.78125 Z M 5 10.875 L 15.4375 17.84375 L 16 18.1875 L 16.5625 17.84375 L 27 10.875 L 27 24 L 5 24 Z"/></svg>
</div>
	  	</div>
	  	<div>
	  		<a href='/privacy-policy'>Privacy Policy</a>
	  		<a href='/terms-of-service'>Terms of Service</a>
	  		<a href='/status'><span style="color: lightgreen;"><svg class="icon small" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path fill="currentColor" d="M 28.28125 6.28125 L 11 23.5625 L 3.71875 16.28125 L 2.28125 17.71875 L 10.28125 25.71875 L 11 26.40625 L 11.71875 25.71875 L 29.71875 7.71875 Z"/></svg>
</span>Status
			</a>
	  	</div>
	</div>
  </footer>
        <div id='cookie-info'>
            <h3>Cookie settings</h3>
            <div class="container">
                <span>We use cookies to enhance your browsing experience.</span>
                <p class="mobile show-more active"><a>Show more information</a></p>
                <p class="mobile show-less"><a>Show less information</a></p>
                <span class="information">By clicking the “Accept” button below, you agree that non-essential cookies on our website may be used by us and by third parties, some of them located in the USA. Learn more about our cookies in our <a
                            href='/privacy-policy'>Privacy
					Policy</a>
                </span>
				<div class="actions">
					<button class='btn btn-primary' id='acknowledge-cookies-btn'>Accept</button>
					<button class="btn btn-grey" id='refuse-cookies-btn'>Refuse</button>
				</div>
            </div>
			<script>
				const queryString = window.location.search;
				const urlParams = new URLSearchParams(queryString);
				const adgroupid = urlParams.get('adgroupid') ? urlParams.get('adgroupid') : document.cookie.match('(^|;)\\s*' + 'adgroupid' + '\\s*=\\s*([^;]+)')?.pop() || ''

				if (adgroupid) {
					const els_trial = document.querySelectorAll("a[href='" + window.location.protocol + '//' + window.location.hostname + '/Web/Subscription/StartFreeTrial' + "']")
					const els_login = document.querySelectorAll("a[href='" + window.location.protocol + '//' + window.location.hostname + '/Web/Home/Login' + "']");

					for (let child of els_trial) {
						if (child.tagName === 'A') {
							child.href = child.href + '?websiteCorrelationId=' + adgroupid
						}
					}

					for (let child of els_login) {
						if (child.tagName === 'A') {
							child.href = child.href + '?websiteCorrelationId=' + adgroupid
						}
					}
				}
			</script>
		</div>
	</footer>
</body>
</html>
